<!DOCTYPE html>
<html>
  <head>
    <title>Game Object Test</title>
    <style>
      body {
        background-color: rgb(53, 53, 53);
      }
      main {
        display: flex;
        height: 100vh;
        width: 50vh;
        justify-content: center;
        align-items: center;
      }
      .game-board {
        display: flex;
        flex-wrap: wrap;
        background-color: gray;
        width: 100%;
      }
      .cell {
        box-sizing: border-box;
        background-color: lightgray;
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <main></main>
    <script>
      const EMPTY = -1;

      class Gameboard {
        element;
        grid;
        players;
        constructor(gridX, gridY, players) {
          this.players = players;
          this.element = document.querySelector("main").appendChild(document.createElement("div"));
          this.element.classList.add("container", "game-board");
          this.element.addEventListener("click", e => this.getCellPos(e));
          this.initializeGrid(gridX, gridY);
        };
        initializeGrid(gridX, gridY) {
          let currentElement = this.element;

          this.grid = [];
          currentElement.setAttribute("style",
                                      `height: ${100 * gridX / gridY}%;`);
                                    // + `width: ${100* gridX / gridY }%`);
          for(let x = 0; x < gridX; ++x) {
            this.grid.push([]);
            for(let y = 0; y < gridY; ++y) {
              currentElement = document.createElement("div");
              currentElement.classList.add("container", "cell", "empty");
              currentElement.setAttribute("style",
                                          `flex-basis: ${100 / gridY}%;`
                                        + `height: ${100 / gridX}%;`
              );
              currentElement.setAttribute("data-col", y);
              currentElement.setAttribute("data-row", gridX - x - 1);
              currentElement.setAttribute("value", EMPTY);
              this.grid[x].push(currentElement);
              this.element.appendChild(currentElement);
            }
          }
        };

        compareWith(x, y) {
          // return
        }
        getCell(x, y) {
          return this.grid[x][y];
        }
        getCellPos(e) {
          return {x: this.getCellX(e.target), y: this.getCellY(e.target)};
        }
        getCellY(target) {
          return target.getAttribute("data-col");
        }
        getCellX(target) {
          return target.getAttribute("data-row");
        }
      };

      var a = new Gameboard(2, 10, 2);
    </script>
    <script>

    </script>
  </body>
</html>
